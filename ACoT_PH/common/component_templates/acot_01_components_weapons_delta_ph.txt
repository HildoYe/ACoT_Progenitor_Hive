###  DM Missiles
weapon_component_template = {
	key = "ACOT_MISSILE_XL_DM"
	size = extra_large
	icon = "GFX_ship_part_xl_missile_dm"
	icon_frame = 1
	type = missile

	damage = { min = 481 max = 1170 } #increased by 15% per tier
	windup = { min = 1 max = 10 }
	total_fire_time = 40
	range = 160
	min_range = 45
	accuracy = 1.0
	missile_speed = 40 # 375 -- apparently, the game doesn't auto-convert speed for non-vanilla components
	missile_evasion = 0.50
	missile_health = 40
	missile_retarget_range = 160
	power = @xl_dm_power_cost
	hull_damage = 1.00
	armor_damage = 1.25
	armor_penetration = 0.0
	shield_damage = 1.50
	shield_penetration = 1.0
	tracking = 0.20

	firing_arc = 135.0

	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @xl_enig_cost
			sr_dark_matter = @xl_dm_sr_cost
			acot_sr_dark_energy = @xl_dm_sr2_cost
		}		
		upkeep = {
			energy = @xl_enig_upkeep_energy
			alloys = @xl_enig_upkeep_alloys
		}
	}

	prerequisites = { "tech_xl_missile_dm" }
	component_set = "ACOT_MISSILE_XL_DM"
	projectile_gfx = "acot_xl_missile_dm"
	upgrades_to = "ACOT_MISSILE_XL_AE"
	tags = { weapon_type_explosive weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery energy_torpedoes }
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

###  DM Missiles
weapon_component_template = {
	key = "ACOT_MISSILE_NUKE_DM"
	size = titanic
	icon = "GFX_ship_part_nuke_missile_dm"
	icon_frame = 1
	type = missile

	damage = { min = 10000 max = 15000 } #increased by 25% per tier
	windup = { min = 100 max = 100 }
	total_fire_time = 250
	range = 450
	min_range = 150
	accuracy = 1.0
	missile_speed = 9 # 375 -- apparently, the game doesn't auto-convert speed for non-vanilla components
	missile_evasion = 0
	missile_health = 300
	missile_retarget_range = 150
	power = @titanic_dm_power_cost
	hull_damage = 2.00
	armor_damage = 1.00
	armor_penetration = 0.0
	shield_damage = 2.0
	shield_penetration = 1.0
	tracking = 0.00
	size_damage_factor = 3

	firing_arc = 90.0

	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_dm_cost
			sr_dark_matter = @titanic_dm_sr_cost
			acot_sr_dark_energy = @titanic_dm_sr2_cost
		}		
		upkeep = {
			energy = @titanic_dm_upkeep_energy
			alloys = @titanic_dm_upkeep_alloys
		}
	}

	prerequisites = { "tech_missile_nuke_dm" }
	component_set = "ACOT_MISSILE_NUKE_DM"
	projectile_gfx = "acot_missile_nuke_dm"
	upgrades_to = "ACOT_MISSILE_NUKE_AE"
	tags = { weapon_type_explosive weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery energy_torpedoes explosive }
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

### DM Lance
weapon_component_template = {
	key = "ACOT_PARTICLE_LANCE_DM"
	size = extra_large
	icon = "GFX_ship_part_energy_lance_dm"
	icon_frame = 1	
	type = instant

	damage = { min = 1014 max = 2535 }
	windup = { min = 12 max = 47 }
	total_fire_time = 70
	range = 150
	accuracy = 1.00
	power = @xl_dm_power_cost
	hull_damage = 1.50
	armor_penetration = 0.0
	armor_damage = 2.0
	shield_penetration = 0.0
	shield_damage = 0.5
	tracking = 0.0

	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @xl_enig_cost
			sr_dark_matter = @xl_dm_sr_cost
			acot_sr_dark_energy = @xl_dm_sr2_cost
		}		
		upkeep = {
			energy = @xl_enig_upkeep_energy
			alloys = @xl_enig_upkeep_alloys
		}
	}

	firing_arc = 25.0
	use_ship_kill_target = no

	prerequisites = { "tech_energy_lance_dm" }
	component_set = "ACOT_PARTICLE_LANCE_DM"
	projectile_gfx = "acot_energy_lance_dm"
	tags = { weapon_type_energy weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery}
	upgrades_to = "ACOT_PARTICLE_LANCE_AE"
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

### DM Emitter
weapon_component_template = {
	key = "ACOT_ARC_EMITTER_DM"
	size = extra_large
	icon = "GFX_ship_part_arc_emitter_dm"
	icon_frame = 1	
	type = instant

	damage = { min = 3 max = 2197 }
	windup = { min = 12 max = 48 }
	total_fire_time = 71
	range = 150
	accuracy = 1.0
	power = @xl_dm_power_cost
	hull_damage = 1.25
	armor_penetration = 1.0
	armor_damage = 1.25
	shield_penetration = 1.0
	shield_damage = 1.00
	tracking = 0.0

	firing_arc = 25.0
	min_range = 10
	use_ship_kill_target = no

	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @xl_enig_cost
			sr_dark_matter = @xl_dm_sr_cost
			acot_sr_dark_energy = @xl_dm_sr2_cost
		}		
		upkeep = {
			energy = @xl_enig_upkeep_energy
			alloys = @xl_enig_upkeep_alloys
		}
	}

	prerequisites = { "tech_arc_emitter_dm" }
	component_set = "ACOT_ARC_EMITTER_DM"
	projectile_gfx = "acot_arc_emitter_dm"
	upgrades_to = "ACOT_ARC_EMITTER_AE"
	tags = { weapon_type_energy weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery }
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

### DM Giga
weapon_component_template = {
	key = "ACOT_MASS_ACCELERATOR_DM"
	size = extra_large
	icon = "GFX_ship_part_mass_accelerator_dm"
	icon_frame = 1	
	type = instant

    damage = { min = 1183 max = 3380 }
	windup = { min = 14 max = 54 }
	total_fire_time = 80
	range = 175
	accuracy = 0.75
	power = @xl_dm_power_cost
	hull_damage = 1.00
	armor_penetration = 0.0
	armor_damage = 1.0
	shield_penetration = 0.50
	shield_damage = 2.0
	tracking = 0.0

	firing_arc = 45.0
	min_range = 45
	use_ship_kill_target = no

	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @xl_enig_cost
			sr_dark_matter = @xl_dm_sr_cost
			acot_sr_dark_energy = @xl_dm_sr2_cost
		}		
		upkeep = {
			energy = @xl_enig_upkeep_energy
			alloys = @xl_enig_upkeep_alloys
		}
	}

	prerequisites = { "tech_mass_accelerator_dm" }
	component_set = "ACOT_MASS_ACCELERATOR_DM"
	projectile_gfx = "acot_giga_cannon_dm"
	tags = { weapon_type_kinetic weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery }
	upgrades_to = "ACOT_MASS_ACCELERATOR_AE"
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

weapon_component_template = {
	key = "ACOT_PERDITION_BEAM_DM"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_perdition_beam_dm"
	icon_frame = 1
	
	firing_arc = 10.0
	min_range = 0.0
	use_ship_kill_target = no
	
	damage = { min = 6500 max = 13000 }
	windup = { min = 30 max = 120 }
	total_fire_time = 180
	range = 250.0
	accuracy = 1.0
	hull_damage = 1.50
	armor_penetration = 0.25
	armor_damage = 2.0
	shield_penetration = 0.0
	shield_damage = 0.75
	tracking = 0
	power = @titanic_dm_power_cost
	
	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_dm_cost
			sr_dark_matter = @titanic_dm_sr_cost
			acot_sr_dark_energy = @titanic_dm_sr2_cost
		}		
		upkeep = {
			energy = @titanic_dm_upkeep_energy
			alloys = @titanic_dm_upkeep_alloys
		}
	}

	prerequisites = { "tech_perdition_beam_dm" }
	component_set = "ACOT_PERDITION_BEAM_DM"
	projectile_gfx = "acot_perdition_beam_dm"
	
	tags = { weapon_type_energy weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery }
	upgrades_to = "ACOT_PERDITION_BEAM_AE"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

weapon_component_template = {
	key = "ACOT_TITAN_EMITTER_DM"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_titan_emitter_dm"
	icon_frame = 1
	
	firing_arc = 10.0
	min_range = 15.0
	use_ship_kill_target = no
	
	damage = { min = 2470 max = 2470 }
	windup = { min = 24 max = 48 }
	total_fire_time = 80
	range = 275
	accuracy = 1.0
	power = -300
	hull_damage = 2.00
	armor_penetration = 1.0
	armor_damage = 1.0
	shield_penetration = 1.0
	shield_damage = 1.0
	tracking = 0.0
	power = @titanic_dm_power_cost
	
	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_dm_cost
			sr_dark_matter = @titanic_dm_sr_cost
			acot_sr_dark_energy = @titanic_dm_sr2_cost
		}		
		upkeep = {
			energy = @titanic_dm_upkeep_energy
			alloys = @titanic_dm_upkeep_alloys
		}
	}

	prerequisites = { "tech_titan_emitter_dm" }
	component_set = "ACOT_TITAN_EMITTER_DM"
	projectile_gfx = "acot_arc_emitter_dm"
	
	tags = { weapon_type_energy weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery }
	upgrades_to = "ACOT_TITAN_EMITTER_AE"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

weapon_component_template = {
	key = "ACOT_TITAN_ACCELERATOR_DM"
	size = titanic
	type = instant
	prio_projectile = yes
	
	icon = "GFX_ship_part_titan_accelerator_dm"
	icon_frame = 1
	
	firing_arc = 45.0
	min_range = 60.0
	use_ship_kill_target = no
	
	damage = { min = 8450 max = 12350 }
	windup = { min = 45 max = 90 }
	total_fire_time = 180
	range = 300.0
	accuracy = 1.0
	power = @titanic_dm_power_cost
	hull_damage = 1.50
	armor_penetration = 0.0
	armor_damage = 1.0
	shield_penetration = 0.50
	shield_damage = 2.0
	tracking = 0
	
	target_weights = {
		battleship = 2
		offspring_battleship = 2
		precursor_battlecruiser = 2
		offspring_precursor_battlecruiser = 2
		fallen_empire_large_warship = 2

		titan = 3
		juggernaut = 3
		precursor_assault_carrier = 3
		offspring_precursor_assault_carrier = 3
		precursor_titan = 3
		offspring_precursor_titan = 3
		fallen_empire_massive_warship = 3
	}

	resources = {
		category = ship_components
		cost = {
			alloys = @titanic_dm_cost
			sr_dark_matter = @titanic_dm_sr_cost
			acot_sr_dark_energy = @titanic_dm_sr2_cost
		}		
		upkeep = {
			energy = @titanic_dm_upkeep_energy
			alloys = @titanic_dm_upkeep_alloys
		}
	}

	prerequisites = { "tech_titan_accelerator_dm" }
	component_set = "ACOT_TITAN_ACCELERATOR_DM"
	projectile_gfx = "acot_giga_cannon_dm"
	
	tags = { weapon_type_kinetic weapon_type_acot_enigmatic }
	ai_tags = { weapon_role_artillery artillery }
	upgrades_to = "ACOT_TITAN_ACCELERATOR_AE"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}


####################
# Engimatic Reactors
####################

utility_component_template = {
	key = "CORVETTE_DARK_MATTER_REACTOR_DM"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 600
	resources = {
		category = ship_components
		cost = {
			alloys = 40
			sr_dark_matter = 4
			acot_sr_dark_energy = 2
		}
		upkeep = {
			energy = 0.4
			alloys = 0.04
		}
	}

	modifier = { 
		ship_hull_mult = 0.05
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { corvette frigate colonizer lithoid_colonizer sponsored_colonizer constructor science transport }
	upgrades_to = "CORVETTE_DARK_MATTER_REACTOR_AE"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

utility_component_template = {
	key = "CORVETTE_DARK_MATTER_REACTOR_DM_OFFSPRING"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 600
	resources = {
		category = ship_components
		cost = {
			alloys = 40
			sr_dark_matter = 4
			acot_sr_dark_energy = 2
		}
		upkeep = {
			energy = 0.4
			alloys = 0.04
		}
	}

	modifier = { 
		ship_hull_mult = 0.075
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { offspring_corvette }
	upgrades_to = "CORVETTE_DARK_MATTER_REACTOR_AE_OFFSPRING"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

utility_component_template = {
	key = "DESTROYER_DARK_MATTER_REACTOR_DM_OFFSPRING"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 1200
	resources = {
		category = ship_components
		cost = {
			alloys = 80
			sr_dark_matter = 8
			acot_sr_dark_energy = 4
		}
		upkeep = {
			energy = 0.8
			alloys = 0.08
		}
	}

	modifier = { 
		ship_hull_mult = 0.075
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { offspring_destroyer	}
	upgrades_to = "DESTROYER_DARK_MATTER_REACTOR_AE_OFFSPRING"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

utility_component_template = {
	key = "CRUISER_DARK_MATTER_REACTOR_DM_OFFSPRING"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 2400
	resources = {
		category = ship_components
		cost = {
			alloys = 160
			sr_dark_matter = 16
			acot_sr_dark_energy = 8
		}
		upkeep = {
			energy = 1.6
			alloys = 0.16
		}
	}

	modifier = { 
		ship_hull_mult = 0.075
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { offspring_cruiser offspring_precursor_escort }
	upgrades_to = "CRUISER_DARK_MATTER_REACTOR_AE_OFFSPRING"

	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

utility_component_template = {
	key = "BATTLESHIP_DARK_MATTER_REACTOR_DM"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 4800
	resources = {
		category = ship_components
		cost = {
			alloys = 320
			sr_dark_matter = 32
			acot_sr_dark_energy = 16
		}
		upkeep = {
			energy = 3.2
			alloys = 0.32
		}
	}
	
	modifier = { 
		ship_hull_mult = 0.05
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { 
		battleship payback_warship
		precursor_platform_l precursor_battlecruiser 
		fe_battlecruiser SCX_Carrier Battlecruiser
		rs_dreadnought rs_heavy_dreadnought_type_a rs_heavy_dreadnought_type_b rs_heavy_dreadnought_type_c rs_heavy_dreadnought_type_d
		rs_heavy_dreadnought_type_e rs_heavy_dreadnought_type_f rs_heavy_dreadnought_type_g rs_heavy_dreadnought_type_h
		ag_science_constructor ag_alpha_psionic_cruiser  # ANCIENT EMPIRE STUFFS
	}

	upgrades_to = "BATTLESHIP_DARK_MATTER_REACTOR_AE"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

utility_component_template = {
	key = "BATTLESHIP_DARK_MATTER_REACTOR_DM_OFFSPRING"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 4800
	resources = {
		category = ship_components
		cost = {
			alloys = 320
			sr_dark_matter = 32
			acot_sr_dark_energy = 16
		}
		upkeep = {
			energy = 3.2
			alloys = 0.32
		}
	}
	
	modifier = { 
		ship_hull_mult = 0.075
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { offspring_battleship offspring_precursor_battlecruiser }
	upgrades_to = "BATTLESHIP_DARK_MATTER_REACTOR_AE_OFFSPRING"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}

utility_component_template = {
	key = "TITAN_DARK_MATTER_REACTOR_DM_OFFSPRING"
	size = small
	icon = "GFX_ship_part_dark_matter_power_core_dm"
	icon_frame = 1
	power = 9600
	resources = {
		category = ship_components
		cost = {
			alloys = 640
			sr_dark_matter = 64
			acot_sr_dark_energy = 32
		}
		upkeep = {
			energy = 6.4
			alloys = 0.64
		}
	}
	
	modifier = { 
		ship_hull_mult = 0.075
	}	

	ship_modifier = {
		ship_armor_reduction = -0.50
		ship_shield_reduction = -0.50
	}

	prerequisites = { "tech_dark_matter_power_core_dm" }
	component_set = "power_core"
	size_restriction = { offspring_precursor_titan offspring_precursor_assault_carrier }
	upgrades_to = "TITAN_DARK_MATTER_REACTOR_AE_OFFSPRING"
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}
	}
}


#####################COBMAT COMPUTER ###############

#Corvette & Destroyer

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_SMALL_1"
	size = small
	icon = "GFX_ship_part_computer_role_swarm_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		corvette frigate destroyer fe_escort
		offspring_corvette offspring_destroyer
	}
	component_set = "combat_computers"
	ship_behavior = "swarm"
	prerequisites = { "tech_dm_combat_computer" }
	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	modifier = {
		ship_evasion_mult = 0.25
	}
	ship_modifier = {
		ship_fire_rate_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_SMALL_2"
	size = small
	icon = "GFX_ship_part_computer_role_picket_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		corvette frigate destroyer fe_escort
		offspring_corvette offspring_destroyer
	}
	component_set = "combat_computers"
	ship_behavior = "picket"
	prerequisites = { "tech_dm_combat_computer" }

	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	modifier = {
		ship_evasion_mult = 0.10
	}
	ship_modifier = {
		ship_fire_rate_mult = 0.20
		ship_tracking_add = 35
	}

	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_SMALL_3"
	size = small
	icon = "GFX_ship_part_computer_role_line_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		corvette frigate destroyer fe_escort
		offspring_corvette offspring_destroyer
	}
	component_set = "combat_computers"
	ship_behavior = "line"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_accuracy_add = 25
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_SMALL_4"
	size = small
	icon = "GFX_ship_part_computer_role_artillery_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		corvette frigate destroyer fe_escort
		offspring_corvette offspring_destroyer
	}
	component_set = "combat_computers"
	ship_behavior = "artillery"
	prerequisites = { "tech_dm_combat_computer" }

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER"
		
	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

#Battlecruisers


utility_component_template = {
	key = "DM_COMBAT_COMPUTER_LARGE_1"
	size = small
	icon = "GFX_ship_part_computer_role_picket_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		explorationship cruiser precursor_escort
		offspring_cruiser offspring_precursor_escort
		StrikeCruiser fe_battlecruiser rs_support_cruiser rs_ea_cruiser rs_battlecruiser 
	} #fe_battlecruiser
	component_set = "combat_computers"
	ship_behavior = "picket"
	prerequisites = { "tech_dm_combat_computer" }
	
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER_BATTLECRUISER"

	modifier = {
		ship_evasion_mult = 0.10
	}
	ship_modifier = {
		ship_fire_rate_mult = 0.20
		ship_tracking_add = 35
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_LARGE_2"
	size = small
	icon = "GFX_ship_part_computer_role_line_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		explorationship cruiser precursor_escort
		offspring_cruiser offspring_precursor_escort
		StrikeCruiser fe_battlecruiser rs_support_cruiser rs_ea_cruiser rs_battlecruiser
	} #fe_battlecruiser
	component_set = "combat_computers"
	ship_behavior = "line"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER_BATTLECRUISER"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_accuracy_add = 25
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_LARGE_3"
	size = small
	icon = "GFX_ship_part_computer_role_artillery_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		explorationship cruiser precursor_escort
		offspring_cruiser offspring_precursor_escort
		StrikeCruiser fe_battlecruiser rs_battlecruiser
	} #fe_battlecruiser
	component_set = "combat_computers"
	ship_behavior = "artillery"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER_BATTLECRUISER"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_LARGE_4"
	size = small
	icon = "GFX_ship_part_computer_role_sniper_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		explorationship cruiser precursor_escort
		offspring_cruiser offspring_precursor_escort
		StrikeCruiser fe_battlecruiser rs_battlecruiser
	} #fe_battlecruiser
	component_set = "combat_computers"
	ship_behavior = "acot_long_range"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER_BATTLECRUISER"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

#Titan

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_TITAN_1"
	size = small
	icon = "GFX_ship_part_computer_role_line_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		battleship precursor_battlecruiser SCX_Carrier SCX_Dreadnought
		offspring_battleship offspring_precursor_battlecruiser offspring_precursor_titan
		Battlecruiser supportship dcv fe_titan precursor_titan
		rs_dreadnought rs_heavy_dreadnought_type_a rs_heavy_dreadnought_type_b
		rs_heavy_dreadnought_type_c rs_heavy_dreadnought_type_d rs_heavy_dreadnought_type_e
		rs_heavy_dreadnought_type_f rs_heavy_dreadnought_type_g rs_heavy_dreadnought_type_h
	} #fe_titan
	component_set = "combat_computers"
	ship_behavior = "line"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER_TITAN"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_accuracy_add = 25
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_TITAN_2"
	size = small
	icon = "GFX_ship_part_computer_role_artillery_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		battleship precursor_battlecruiser SCX_Carrier SCX_Dreadnought
		offspring_battleship offspring_precursor_battlecruiser offspring_precursor_titan 
		Battlecruiser supportship dcv fe_titan precursor_titan
		rs_dreadnought rs_heavy_dreadnought_type_a rs_heavy_dreadnought_type_b
		rs_heavy_dreadnought_type_c rs_heavy_dreadnought_type_d rs_heavy_dreadnought_type_e
		rs_heavy_dreadnought_type_f rs_heavy_dreadnought_type_g rs_heavy_dreadnought_type_h
	} #fe_titan
	component_set = "combat_computers"
	ship_behavior = "artillery"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER_TITAN"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_TITAN_3"
	size = small
	icon = "GFX_ship_part_computer_role_sniper_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		battleship precursor_battlecruiser SCX_Carrier SCX_Dreadnought
		offspring_battleship offspring_precursor_battlecruiser offspring_precursor_titan
		Battlecruiser supportship dcv fe_titan precursor_titan
		rs_dreadnought rs_heavy_dreadnought_type_a rs_heavy_dreadnought_type_b
		rs_heavy_dreadnought_type_c rs_heavy_dreadnought_type_d rs_heavy_dreadnought_type_e
		rs_heavy_dreadnought_type_f rs_heavy_dreadnought_type_g rs_heavy_dreadnought_type_h
	} #fe_titan
	component_set = "combat_computers"
	ship_behavior = "carrier"
	prerequisites = { "tech_dm_combat_computer" }
	
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER_TITAN"

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_TITAN_4"
	size = small
	icon = "GFX_ship_part_computer_role_long_bionic"
	icon_frame = 1
	power = -20
	class_restriction = { shipclass_military }
	size_restriction = {
		battleship precursor_battlecruiser SCX_Carrier SCX_Dreadnought
		offspring_battleship offspring_precursor_battlecruiser offspring_precursor_titan
		Battlecruiser supportship dcv fe_titan precursor_titan
		rs_dreadnought rs_heavy_dreadnought_type_a rs_heavy_dreadnought_type_b
		rs_heavy_dreadnought_type_c rs_heavy_dreadnought_type_d rs_heavy_dreadnought_type_e
		rs_heavy_dreadnought_type_f rs_heavy_dreadnought_type_g rs_heavy_dreadnought_type_h
	} #fe_titan
	component_set = "combat_computers"
	ship_behavior = "acot_max_range"
	hidden = yes
	
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER_TITAN"

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
}

#Goliath


utility_component_template = {
	key = "DM_COMBAT_COMPUTER_CAPITAL_1"
	size = small
	icon = "GFX_ship_part_computer_role_artillery_bionic"
	icon_frame = 1
	power = -20
	#class_restriction = { shipclass_military shipclass_starbase }
	size_restriction = {
		acot_giga_fortress movable_fortress juggernaut titan Dreadnought
		Flagship ultradreadnought Carrier fe_goliath sofe_gatekeeper_warden
		precursor_assault_carrier progenitor_carrier sofe_aegis_guard
		offspring_precursor_assault_carrier
	} #fe_goliath
	component_set = "combat_computers"
	ship_behavior = "artillery"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_OFFENSIVE_COMBAT_COMPUTER_GOLIATH"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_CAPITAL_2"
	size = small
	icon = "GFX_ship_part_computer_role_sniper_bionic"
	icon_frame = 1
	power = -20
	#class_restriction = { shipclass_military shipclass_starbase }
	size_restriction = {
		acot_giga_fortress movable_fortress juggernaut titan Dreadnought
		Flagship ultradreadnought Carrier fe_goliath sofe_gatekeeper_warden
		precursor_assault_carrier progenitor_carrier sofe_aegis_guard		
		offspring_precursor_assault_carrier
	} #fe_goliath
	component_set = "combat_computers"
	ship_behavior = "carrier"
	prerequisites = { "tech_dm_combat_computer" }
	
	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER_GOLIATH"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}	
	}	
}

utility_component_template = {
	key = "DM_COMBAT_COMPUTER_CAPITAL_3"
	size = small
	icon = "GFX_ship_part_computer_role_long_bionic"
	icon_frame = 1
	power = -20
	#class_restriction = { shipclass_military shipclass_starbase }
	size_restriction = {
		acot_giga_fortress movable_fortress juggernaut titan Dreadnought
		Flagship ultradreadnought Carrier fe_goliath sofe_gatekeeper_warden
		precursor_assault_carrier progenitor_carrier sofe_aegis_guard
		offspring_precursor_assault_carrier
	} #fe_goliath
	component_set = "combat_computers"
	ship_behavior = "acot_max_range"
	hidden = yes
	
	upgrades_to = "AE_DEFENSIVE_COMBAT_COMPUTER_GOLIATH"

	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_dark_matter = 2
			acot_sr_dark_energy = 1
		}
	}

	ship_modifier = {
		ship_fire_rate_mult = 0.25
		ship_weapon_range_mult = 0.20
	}
}

utility_component_template = {
	key = "ACOT_REPAIR_COUNTERMEASURES_DM_OFFSPRING"
	size = aux
	icon = "GFX_ship_part_darkmatter_reactive_drone_dm"
	icon_frame = 1
	power = -40
	resources = {
		category = ship_components
		cost = {
			alloys = 15
			sr_dark_matter = 0.50
			acot_sr_dark_energy = 0.25
		}
	}

	modifier = {
		ship_hull_mult = 0.3
		ship_hull_regen_add_perc = 0.02
		ship_armor_regen_add_perc = 0.02
	}
	
	prerequisites = { tech_darkmatter_reactive_drone_dm }
	component_set = "ACOT_REPAIR_COUNTERMEASURES_DM_OFFSPRING"

	size_restriction = {
		offspring_corvette offspring_destroyer offspring_cruiser offspring_battleship
		offspring_precursor_escort offspring_precursor_battlecruiser
		offspring_precursor_titan offspring_precursor_assault_carrier
	}
	
	ai_weight = {
		weight = 20	
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}

	}

	upgrades_to = "ACOT_REPAIR_COUNTERMEASURES_AE_OFFSPRING"
}

utility_component_template = {
	key = "ACOT_SHIELD_BOOSTER_DM_OFFSPRING"
	size = aux
	icon = "GFX_ship_part_darkmatter_shield_supercharger_dm"
	icon_frame = 1
	power = -50
	resources = {
		category = ship_components
		cost = {
			alloys = 15
			sr_dark_matter = 0.50
			acot_sr_dark_energy = 0.25
		}
	}
	
	prerequisites = { "tech_darkmatter_shield_supercharger_dm" }
	component_set = "ACOT_SHIELD_BOOSTER_DM_OFFSPRING"
	
	modifier = {
		ship_shield_mult = 0.30
	}
	ship_modifier = {
		ship_shield_hardening_add = 0.20
	}
	
	size_restriction = {
		offspring_corvette offspring_destroyer offspring_cruiser offspring_battleship
		offspring_precursor_escort offspring_precursor_battlecruiser
		offspring_precursor_titan offspring_precursor_assault_carrier
	}

	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}

	}

	upgrades_to = "ACOT_SHIELD_BOOSTER_AE_OFFSPRING"
}

utility_component_template = {
	key = "ACOT_ARMOR_BOOSTER_DM_OFFSPRING"
	size = aux
	icon = "GFX_ship_part_darkmatter_armor_supercharger_dm"
	icon_frame = 1
	power = -50
	resources = {
		category = ship_components
		cost = {
			alloys = 15
			sr_dark_matter = 0.50
			acot_sr_dark_energy = 0.25
		}
	}
	
	prerequisites = { "tech_darkmatter_armor_supercharger_dm" }
	component_set = "ACOT_ARMOR_BOOSTER_DM_OFFSPRING"
	
	modifier = {
		ship_armor_mult = 0.30
	}
	ship_modifier = {
		ship_armor_hardening_add = 0.20
	}

	size_restriction = {
		offspring_corvette offspring_destroyer offspring_cruiser offspring_battleship
		offspring_precursor_escort offspring_precursor_battlecruiser
		offspring_precursor_titan offspring_precursor_assault_carrier
	}
	
	ai_weight = {
		weight = 20
		modifier = {
			factor = 0.0
			has_monthly_income = {
				resource = sr_dark_matter
				value <= 2
			}
			has_resource = {
				type = sr_dark_matter
				amount <= 5
			}		
		}
		modifier = {
			factor = 0.0
			has_resource = {
				type = acot_sr_dark_energy
				amount <= 5
			}
			has_monthly_income = {
				resource = acot_sr_dark_energy
				value <= 2
			}		
		}

	}

	upgrades_to = "ACOT_ARMOR_BOOSTER_AE_OFFSPRING"
}
